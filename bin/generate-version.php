<?php
/**
 * Generates version.php from composer.json.
 *
 * Usage: composer generate-version
 */

$composer = json_decode( file_get_contents( __DIR__ . '/../composer.json' ), true );
$version  = $composer['version'];

$content = <<<PHP
<?php
/**
 * Generated by `composer generate-version`. Do not edit.
 */
define( 'AUTONOMIE_VERSION', '{$version}' );
PHP;

file_put_contents( __DIR__ . '/../version.php', $content . PHP_EOL );
